{"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/199/comments/56700222.json"}, "html": {"href": "#!/osrf/sdformat/issues/199#comment-56700222"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/199.json"}}, "type": "issue", "id": 199, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "URDF to SDF conversion ignores links without inertia"}, "content": {"raw": "I happen to have run into a variant of this issue today and spent a while debugging [it.](http://it.In) In addition to the case of having not declared an `inertia` node in the XML at all, this also occurs if you have a `mass` value which is too small. A mass value of `0.00001` \\(`1e-5`\\) works fine, but if you decrease it to `0.000001` \\(`1e-6`\\), the link is silently omitted. This is pretty dangerous, since it is easy to gloss over an additional `0` when scanning for issues. I saw that having _no mass_ was disallowed, so my natural inclination was to make it _some very small number_, and happened to hit too many zeroes.\n\nAn error in this case, even if massless links aren\u2019t implemented, would be much appreciated.", "markup": "markdown", "html": "<p>I happen to have run into a variant of this issue today and spent a while debugging <a data-is-external-link=\"true\" href=\"http://it.In\" rel=\"nofollow\">it.</a> In addition to the case of having not declared an <code>inertia</code> node in the XML at all, this also occurs if you have a <code>mass</code> value which is too small. A mass value of <code>0.00001</code> (<code>1e-5</code>) works fine, but if you decrease it to <code>0.000001</code> (<code>1e-6</code>), the link is silently omitted. This is pretty dangerous, since it is easy to gloss over an additional <code>0</code> when scanning for issues. I saw that having <em>no mass</em> was disallowed, so my natural inclination was to make it <em>some very small number</em>, and happened to hit too many zeroes.</p>\n<p>An error in this case, even if massless links aren\u2019t implemented, would be much appreciated.</p>", "type": "rendered"}, "created_on": "2020-03-28T08:58:18.607383+00:00", "user": {"display_name": "Kaelin", "uuid": "{8d4c9653-2af7-4ce2-bb67-6cb8750d5868}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d4c9653-2af7-4ce2-bb67-6cb8750d5868%7D"}, "html": {"href": "https://bitbucket.org/%7B8d4c9653-2af7-4ce2-bb67-6cb8750d5868%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/da56d657a671a09cc5c2f6d2c1a9716ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsK-4.png"}}, "nickname": "Kaelin", "type": "user", "account_id": "557058:d1b8e9bb-2be6-434c-9fc1-b757c3b44517"}, "updated_on": null, "type": "issue_comment", "id": 56700222}