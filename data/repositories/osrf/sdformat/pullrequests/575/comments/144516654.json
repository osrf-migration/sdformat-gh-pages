{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/575/comments/144516654.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/575/_/diff#comment-144516654"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 575, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/575.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/575"}}, "title": "parse urdf files to sdf 1.5 instead of 1.4 to avoid use_parent_model_frame"}, "content": {"raw": "It is probably not super-important, but this PR apparently silently broke models in this form: \n\n\u200c\n\n```xml\n<?xml version='1.0'?>\n<sdf version='1.4'>\n  <model name=\"include_model_fixed\">\n    <include>\n      <uri>model://include_model</uri>\n      <pose>0.0 0 1.0 0 0 3.14</pose>\n    </include>\n    <joint name=\"fixed to ground\" type=\"revolute\">\n      <parent>world</parent>\n      <child>included_model::root_link</child>\n       <axis>\n        <limit>\n          <lower>0</lower>\n          <upper>0</upper>\n        </limit>\n        <xyz>0 0 1</xyz>\n        </axis>\n    </joint>\n  </model>\n</sdf>\n```\n\nThis kind of  models now silently load the URDF with the wrong axis, while they were working correctly before. Fortunately the solution is easy, just  to update the version of the sdf model to 1.5, but it may be tricky to find the root of the problem.", "markup": "markdown", "html": "<p>It is probably not super-important, but this PR apparently silently broke models in this form: </p>\n<p>\u200c</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.4&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;include_model_fixed&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://include_model<span class=\"nt\">&lt;/uri&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0.0 0 1.0 0 0 3.14<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;fixed to ground&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>world<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>included_model::root_link<span class=\"nt\">&lt;/child&gt;</span>\n       <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>0<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>0<span class=\"nt\">&lt;/upper&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>This kind of  models now silently load the URDF with the wrong axis, while they were working correctly before. Fortunately the solution is easy, just  to update the version of the sdf model to 1.5, but it may be tricky to find the root of the problem.</p>", "type": "rendered"}, "created_on": "2020-04-09T13:48:16.059902+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2020-04-09T13:49:45.732488+00:00", "type": "pullrequest_comment", "id": 144516654}